<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cubo Convite Interativo</title>
<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background-color: rgb(15, 15, 15);
  overflow: hidden;
  font-family: Arial, sans-serif;
  color: white;
}

/* === Cubo === */
.cube {
  position: relative;
  width: 400px;
  height: 400px;
  transform-style: preserve-3d;
  animation: rotate-cube 10s linear infinite;
  cursor: pointer;
  transition: transform 1.5s ease-in-out, scale 1s ease-in-out;
}

@keyframes rotate-cube {
  0% { transform: rotateX(-30deg) rotateY(0deg); }
  100% { transform: rotateX(-30deg) rotateY(360deg); }
}

.cube div {
  position: absolute;
  width: 100%;
  height: 100%;
  transform-style: preserve-3d;
}

/* Faces do cubo */
.cube div span, .top, .bottom {
  position: absolute;
  width: 100%;
  height: 100%;
  background-size: cover;
  background-position: center;
  display: flex;
  align-items: center;
  justify-content: center;
  backface-visibility: hidden;
  border: 1px solid rgba(255,255,255,0.15);
  transition: transform 1s ease, opacity 0.6s ease, background-image 0.8s ease;
}

.cube.rotate span,
/* ðŸ”¹ Opacidade enquanto gira */
.cube.rotate .top,
.cube.rotate .bottom {
  opacity: 0.8;
}

.cube.card-mode span,
.cube.card-mode .top,
.cube.card-mode .bottom {
  opacity: 1;
}

/* === Faces posicionadas === */
.cube div span {
  transform: rotateY(calc(90deg * var(--i))) translateZ(200px);
}

.top {
  transform: rotateX(90deg) translateZ(200px);
}

.bottom {
  transform: rotateX(90deg) translateZ(-200px);
}

/* === Modo Cartas === */
.cube.card-mode {
  animation: none;
  transform: rotateX(0deg) rotateY(0deg) scale(1.2);
}

.card-mode span,
.card-mode .top {
  transform: translateZ(0) rotateY(0) rotateX(0);
  pointer-events: none;
}

.card-mode .bottom {
  transform: rotateX(90deg) translateZ(-200px);
}

/* Carta visÃ­vel */
.card-visible {
  opacity: 1 !important;
  transform: translateZ(400px) scale(1.1) !important;
  pointer-events: auto !important;
}

/* Texto */
.info {
  position: absolute;
  bottom: 40px;
  font-size: 20px;
  opacity: 0.8;
}
</style>
</head>
<body>

<div class="cube rotate" id="cube">
  <div>
    <!-- ðŸ”¹ Faces do cubo â€” todas iguais inicialmente -->
    <span style="--i:0; background-image: url('img/meio.jpg');"></span>
    <span style="--i:1; background-image: url('img/meio.jpg');"></span>
    <span style="--i:2; background-image: url('img/meio.jpg');"></span>
    <span style="--i:3; background-image: url('img/meio.jpg');"></span>
  </div>

  <div class="top" style="background-image: url('img/meio.jpg');"></div>
  <div class="bottom" style="background-image: url('img/meio.jpg');"></div>
</div>

<div class="info" id="info">Clique no cubo</div>

<script>
const cube = document.getElementById("cube");
const faces = cube.querySelectorAll("span, .top, .bottom");
const info = document.getElementById("info");

let step = 0;
let inCardMode = false;

/* ðŸ”¹ Imagens do convite */
const conviteImgs = [
  'img/face1.jpg',
  'img/face2.jpg',
  'img/face3.jpg',
  'img/face4.jpg'
];

/* ðŸ”¹ Imagem padrÃ£o do cubo */
const padraoImg = 'img/meio.jpg';

cube.addEventListener("click", () => {
  if (!inCardMode) {
    /* --- Entrando no modo convite --- */
    cube.classList.remove("rotate");
    cube.classList.add("card-mode");
    info.textContent = "Clique para ver a prÃ³xima parte do convite...";
    inCardMode = true;
    step = 0;
    mostrarConvite(step);
  } else {
    ocultarConvite(step);
    step++;
    if (step < conviteImgs.length) {
      setTimeout(() => mostrarConvite(step), 400);
    } else {
      voltarCubo();
    }
  }
});

function mostrarConvite(index) {
  faces.forEach(face => face.style.backgroundImage = `url('${padraoImg}')`);
  const face = faces[index];
  face.style.backgroundImage = `url('${conviteImgs[index]}')`;
  face.classList.add("card-visible");
}

function ocultarConvite(index) {
  faces[index].classList.remove("card-visible");
}

function voltarCubo() {
  info.textContent = "Voltando ao cubo...";
  setTimeout(() => {
    faces.forEach(face => face.style.backgroundImage = `url('${padraoImg}')`);
    cube.classList.remove("card-mode");
    cube.classList.add("rotate");
    step = 0;
    inCardMode = false;
    info.textContent = "Clique no cubo";
  }, 1500);
}
</script>

</body>
</html>
